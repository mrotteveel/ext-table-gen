<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="keywords" content="firebird, database, external table">
<meta name="author" content="Mark Rotteveel">
<title>Firebird External Table Generator: User Manual</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Firebird External Table Generator: User Manual</h1>
<div class="details">
<span id="author" class="author">Mark Rotteveel</span><br>
<span id="revdate">1.0</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#intro">1. Introduction</a></li>
<li><a href="#install">2. Installation</a>
<ul class="sectlevel2">
<li><a href="#install-req">2.1. Requirements</a></li>
<li><a href="#install-dist">2.2. Distribution package</a></li>
<li><a href="#install-instruction">2.3. Installing</a></li>
<li><a href="#install-firebird">2.4. Firebird configuration</a></li>
</ul>
</li>
<li><a href="#usage">3. Usage Examples</a>
<ul class="sectlevel2">
<li><a href="#usage-notes">3.1. General notes</a></li>
<li><a href="#usage-basic-csv">3.2. Generating an external table from CSV</a></li>
<li><a href="#usage-config">3.3. Using configuration</a></li>
<li><a href="#usage-workflow">3.4. Recommended workflow</a></li>
</ul>
</li>
<li><a href="#ref">4. Reference</a>
<ul class="sectlevel2">
<li><a href="#ref-cmd">4.1. Commandline options</a></li>
<li><a href="#ref-xml">4.2. XML configuration</a></li>
</ul>
</li>
<li><a href="#_appendices">Appendices</a>
<ul class="sectlevel1">
<li><a href="#xsd">Appendix A: XML schemas</a>
<ul class="sectlevel2">
<li><a href="#ext-table-gen-1-0-xsd">A.1. <code>ext-table-gen-1.0.xsd</code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Copyright 2023 Mark Rotteveel and all contributing authors under the <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="noopener">Apache 2.0 license</a>.</p>
</div>
<!-- toc disabled -->
</div>
</div>
<div class="sect1">
<h2 id="intro"><a class="anchor" href="#intro"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The &#8220;Firebird External Table Generator&#8221; or <em>ext-table-gen</em> is a commandline tool to convert <a href="https://www.rfc-editor.org/rfc/rfc4180" target="_blank" rel="noopener">RFC 4180</a> CSV files to <a href="https://www.firebirdsql.org/" target="_blank" rel="noopener">Firebird</a> external tables (a binary format for Firebird external table data).</p>
</div>
<div class="paragraph">
<p>External tables are a good way for bulk-loading data into Firebird.
Unfortunately, external tables use a fixed-width <em>binary</em> format<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>, and not a (more) standard format like CSV.
It is not always easy to create an appropriate external table file, and this is where <em>ext-table-gen</em> can be used.</p>
</div>
<div class="paragraph">
<p>At a high level, <em>ext-table-gen</em> provides the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Derive a <code>CHAR</code>-based external table definition (i.e. a <code>CREATE TABLE</code> statement and a configuration for <em>ext-table-gen</em>) from a CSV file</p>
</li>
<li>
<p>Transform a CSV file to an external table file (either based on the CSV file itself, or based on a configuration file)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The current version only supports <code>CHAR</code> columns, which makes the generated file essentially a fixed-width text format.
Future versions may introduce support for additional column types.</p>
</div>
<div class="paragraph">
<p>This user manual provides examples of use, and serves as reference documentation for the commandline options and XML format.</p>
</div>
<div class="paragraph">
<p>The project itself is hosted on GitHub: <a href="https://github.com/mrotteveel/ext-table-gen" class="bare" target="_blank" rel="noopener">https://github.com/mrotteveel/ext-table-gen</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install"><a class="anchor" href="#install"></a>2. Installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="install-req"><a class="anchor" href="#install-req"></a>2.1. Requirements</h3>
<div class="paragraph">
<p>The &#8220;Firebird External Table Generator&#8221; or <em>ext-table-gen</em> requires Java 17.
We have not tested it on higher versions, but expect it to work on higher versions as well.
We will only fix issues reported against Java versions which are in support according to the OpenJDK project, at the time of writing this&#8201;&#8212;&#8201;June 2023, that means Java 17 and Java 20.</p>
</div>
</div>
<div class="sect2">
<h3 id="install-dist"><a class="anchor" href="#install-dist"></a>2.2. Distribution package</h3>
<div class="paragraph">
<p>The <em>ext-table-gen</em> is distributed in a <em>zip</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ext-table-gen-1.0.zip</code>&#8201;&#8212;&#8201;for Linux, macOS and Windows</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The layout of the archive is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ext-table-gen-1.0</code>&#8201;&#8212;&#8201;root directory with application files</p>
<div class="ulist">
<ul>
<li>
<p><code>bin</code>&#8201;&#8212;&#8201;contains executable files <code>ext-table-gen</code> (<code>sh</code> script) and <code>ext-table-gen.bat</code> (Windows Batch script)</p>
</li>
<li>
<p><code>docs</code>&#8201;&#8212;&#8201;contains documentation, including this manual</p>
</li>
<li>
<p><code>lib</code>&#8201;&#8212;&#8201;contains the application code and other Java dependencies</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="install-instruction"><a class="anchor" href="#install-instruction"></a>2.3. Installing</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>We gloss over describing OS-specific configuration like installing Java, configuring the <code>PATH</code> or <code>JAVA_HOME</code>, etc.
Improvements are always welcome through pull requests.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="install-extract"><a class="anchor" href="#install-extract"></a>2.3.1. Extract archive</h4>
<div class="paragraph">
<p>Use your favourite <em>zip</em> or <em>unzip</em> tool to extract the archive to a user-accessible directory.</p>
</div>
<div class="paragraph">
<div class="title">Windows</div>
<p>When copying or extracting to <code>C:\Program Files\</code> or <code>C:\Program Files (x86)\</code>, be aware that the archive tool must be run as administrator.
You can also use Explorer to open ZIP files, and copy or extract the <code>ext-table-gen-1.0</code> directory from the zip.</p>
</div>
<div class="paragraph">
<div class="title">Linux/macOS</div>
<p>It may be necessary to make <code>bin/ext-table-gen</code> explicitly executable with <code>chmod +x bin/ext-table-gen</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="install-paths"><a class="anchor" href="#install-paths"></a>2.3.2. Setting environment variables</h4>
<div class="paragraph">
<p>To be able to call <em>ext-table-gen</em>, Java 17 or higher must be on the <code>PATH</code> (the <code>bin</code> directory of the Java installation), or alternatively, you need to set <code>JAVA_HOME</code> to point to the Java 17 installation directory (not its <code>bin</code> directory, but the directory which contains the <code>bin</code> directory).</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t have Java installed, install it using your package manager, <a href="https://sdkman.io/" target="_blank" rel="noopener">sdkman</a> (Linux/macOS), or download it, for example from <a href="https://adoptium.net/" target="_blank" rel="noopener">Eclipse Adoptium</a>.</p>
</div>
<div class="paragraph">
<p>If you want to call <em>ext-table-gen</em> without specifying the full path, you need to add its <code>bin</code> directory to the <code>PATH</code>.</p>
</div>
<div class="paragraph">
<p>For information on setting environment variables, see <a href="https://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them" target="_blank" rel="noopener">What are PATH and other environment variables, and how can I set or use them?</a></p>
</div>
</div>
<div class="sect3">
<h4 id="install-verify"><a class="anchor" href="#install-verify"></a>2.3.3. Verify installation</h4>
<div class="paragraph">
<p>To verify if <em>ext-table-gen</em> is installed and can be run, run <code>ext-table-gen</code> from the shell terminal or Command Prompt or Powershell.
If you added <em>ext-table-gen</em> to the <code>PATH</code>, you can try from any directory, otherwise go to the <code>bin</code> directory of <em>ext-table-gen</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; ext-table-gen
Missing option(s): --csv-file=CSV, --table-file=FILE, or --config-in=FILE
Usage: ext-table-gen ...</pre>
</div>
</div>
<div class="paragraph">
<p>Above output of the usage instruction was truncated for brevity.</p>
</div>
<div class="paragraph">
<p>If you get another error than &#8220;Missing option(s): &#8230;&#8203;&#8221;, the installation is not correct.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="install-firebird"><a class="anchor" href="#install-firebird"></a>2.4. Firebird configuration</h3>
<div class="paragraph">
<p>The default Firebird configuration disallows use of external tables, or more specifically, it doesn&#8217;t allow Firebird to read or write external table files from any location.</p>
</div>
<div class="paragraph">
<p>To enable access, you need to configure the <code>ExternalFileAccess</code> in <code>firebird.conf</code> (globally) or in&#8201;&#8212;&#8201;Firebird 3.0 and higher&#8201;&#8212;&#8201;<code>databases.conf</code> (per database).
The <code>ExternalFileAccess</code> setting accepts <code>Restrict</code> followed by a semicolon separated list of paths where Firebird can read and write external table files.</p>
</div>
<div class="paragraph">
<p>The user running the Firebird database server needs to have read and write access to these directories.
The user(s) who need to be able to create external table files using <em>ext-table-gen</em> also need read and write access.
On Linux, there is generally a common group (e.g. <code>firebird</code>) which can be assigned these rights, or consider creating a separate group (e.g. <code>fb_external_tables</code>) and assign the user running Firebird (e.g. user <code>firebird</code>) and the users creating external tables to this group.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Security risks of external tables</div>
<div class="paragraph">
<p>Enabling <code>ExternalFileAccess</code> introduces security risks if not managed carefully.
All files in the directories (and subdirectories) listed in <code>ExternalFileAccess</code> which are readable by the Firebird process can be read this way, and files which are writable can be modified (append only), and files can be created in directories which are writable.</p>
</div>
<div class="paragraph">
<p>If you have a compromised database or Firebird server, it would be possible exfiltrate the contents of those files with a carefully crafted external table (or tables), and risks files that are writable by the Firebird server user to be modified (only by appending), or additional files to be introduced on your filesystem in directories where the server has write access.</p>
</div>
<div class="paragraph">
<p>To reduce these risks, follow these guidelines</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The directories added to <code>ExternalFileAccess</code> should be exclusively used for external tables, and not contain any other files (including database files and backups).</p>
</li>
<li>
<p>Where possible, use database-specific folders, configured in <code>databases.conf</code> for that specific database.</p>
</li>
<li>
<p>Do not use a directory which is a subdirectory of any directory listed in <code>DatabaseAccess</code>.</p>
<div class="paragraph">
<p>Be aware that <code>DatabaseAccess</code> defaults to <code>Full</code>, and you should restrict it to specific directories, or even <code>None</code> to only allow access to databases through aliases defined in <code>databases.conf</code>.</p>
</div>
</li>
<li>
<p><strong>Never</strong> configure <code>ExternalFileAccess</code> as <code>Full</code>, as this can expose all files readable by the Firebird server, modify existing files or create new files anywhere the server user has access (see also above).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For example, set it to</p>
</div>
<div class="listingblock">
<div class="title">ExternalFileAccess through firebird.conf</div>
<div class="content">
<pre>DatabaseAccess = Restrict C:\FirebirdData\databases
# or even
# DatabaseAccess = None

ExternalFileAccess = Restrict C:\FirebirdData\exttables</pre>
</div>
</div>
<div class="paragraph">
<p>Or for restricting it per database:</p>
</div>
<div class="listingblock">
<div class="title">No ExternalFileAccess through firebird.conf</div>
<div class="content">
<pre>DatabaseAccess = Restrict C:\FirebirdData\databases
# or even
# DatabaseAccess = None

ExternalFileAccess = None</pre>
</div>
</div>
<div class="listingblock">
<div class="title">ExternalFileAccess through databases.conf, per database</div>
<div class="content">
<pre>db_one = C:\FirebirdData\databases\db_one.fdb
{
    ExternalFileAccess = Restrict C:\FirebirdData\exttables\db_one
}

db_two = C:\FirebirdData\databases\db_two.fdb
{
    ExternalFileAccess = Restrict C:\FirebirdData\exttables\db_two
}</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage"><a class="anchor" href="#usage"></a>3. Usage Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter illustrates how to use <em>ext-table-gen</em> by showing basic usage examples.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The author primarily uses Windows, so most examples are based on Windows.
In most cases, the only relevant differences are file paths.</p>
</div>
<div class="paragraph">
<p>Examples may use the Windows Command Prompt line continuation <code>^</code>.
For PowerShell, use <code>`</code>.
For (Linux) shells, use <code>\</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="usage-notes"><a class="anchor" href="#usage-notes"></a>3.1. General notes</h3>
<div class="paragraph">
<p><em>ext-table-gen</em> can only read CSV files in <a href="https://www.rfc-editor.org/rfc/rfc4180" target="_blank" rel="noopener">RFC 4180</a> format, with or without a header line.
At this time, <em>ext-table-gen</em> does not support other CSV formats, and it does not offer any way to configure things like quote, escape or separator characters.</p>
</div>
<div class="paragraph">
<p>CSV files are assumed to be encoded in UTF-8.
The character set can be explicitly configured using <a href="#ref-cmd-csv-charset"><code>--csv-charset=CHARSET</code></a>, where <code>CHARSET</code> is a Java character set name (e.g. <code>--csv-charset=windows-1252</code>).</p>
</div>
<div class="paragraph">
<p>The external table definition derived from a CSV file uses only <code>CHAR</code> columns<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>, and the default character set is <code>ISO8859_1</code>.
This can be overridden by specifying <a href="#ref-cmd-column-encoding"><code>--column-encoding=ENCODING</code></a>, where <code>ENCODING</code> is a Firebird character set name (e.g. <code>column-encoding=WIN1252</code>).
Alternatively, an existing configuration file can be edited to change the column encoding.
The configuration file allows you to configure the character set <em>per column</em>).</p>
</div>
<div class="paragraph">
<p>Given the overhead of using <code>UTF8</code> columns (e.g. a <code>CHAR(1000) CHARACTER SET UTF8</code> column will occupy 4000 bytes in an external table), we recommend to use a single-byte character set where possible, and only define columns as <code>UTF8</code> when absolutely necessary.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Naming external table files</div>
<div class="paragraph">
<p>There is no common naming convention for external table files.
In this manual, we use the <code>dat</code> extension, as that is a generally accepted extension for opaque data.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="usage-basic-csv"><a class="anchor" href="#usage-basic-csv"></a>3.2. Generating an external table from CSV</h3>
<div class="paragraph">
<p>The following demonstrates how you can use <em>ext-table-gen</em> to derive an external table definition and generate an external table file matching that definition.</p>
</div>
<div class="paragraph">
<p>This example use a very simple CSV file, shown below.</p>
</div>
<div class="listingblock">
<div class="title">Example CSV file, persons.csv</div>
<div class="content">
<pre>ID,Lastname,Firstname,Email
1,Doe,John,john@example.org
2,Doe,Jane,jane@example.org
3,Deer,Jason,jason@example.org
4,Deer,Jillian,jillian@example.org</pre>
</div>
</div>
<div class="paragraph">
<p>The minimum necessary commandline to create an external table file is to use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ext-table-gen --csv-file=persons.csv --table-file=persons.dat</pre>
</div>
</div>
<div class="paragraph">
<p>However, this will not show you the external table that was derived from the CSV file, so it is not very useful.</p>
</div>
<div class="paragraph">
<p>Instead, also specify the <a href="#ref-cmd-config-out"><code>--config-out</code></a> option to create a configuration file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ext-table-gen --csv-file=C:\FirebirdData\csv\persons.csv ^
  --table-file=C:\FirebirdData\exttables\persons.dat ^
  --config-out=C:\FirebirdData\csv\persons.xml</pre>
</div>
</div>
<div class="paragraph">
<p>We&#8217;re specifying absolute paths so the output of running this command matches the XML file shown below.
It is possible to use relative paths, but those will also appear as relative paths in the configuration file.</p>
</div>
<div class="paragraph">
<p>Above command will create the following configuration file:</p>
</div>
<div class="listingblock">
<div class="title">persons.xml</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;extTableGenConfig xmlns="https://www.lawinegevaar.nl/xsd/ext-table-gen-1.0.xsd"&gt;
    &lt;externalTable name="DEFAULT_EXTERNAL_TABLE_NAME"&gt;
        &lt;columns&gt;
            &lt;column name="ID"&gt;
                &lt;char length="1" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;column name="Lastname"&gt;
                &lt;char length="4" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;column name="Firstname"&gt;
                &lt;char length="7" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;column name="Email"&gt;
                &lt;char length="19" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;endColumn type="LF"/&gt;
        &lt;/columns&gt;
        &lt;tableFile path="C:\FirebirdData\exttables\persons.dat" overwrite="false"/&gt;
    &lt;/externalTable&gt;
    &lt;tableDerivation columnEncoding="ISO8859_1" endColumnType="LF"/&gt;
    &lt;csvFile path="C:\FirebirdData\csv\persons.csv" charset="UTF-8" headerRow="true"/&gt;
    &lt;informational&gt;
        &lt;ddl&gt;create table "DEFAULT_EXTERNAL_TABLE_NAME" external file 'C:\FirebirdData\exttables\persons.dat' (
  "ID" char(1) character set ISO8859_1,
  "Lastname" char(4) character set ISO8859_1,
  "Firstname" char(7) character set ISO8859_1,
  "Email" char(19) character set ISO8859_1,
  "LF" char(1) character set ASCII default _ASCII x'0a'
);
&lt;/ddl&gt;
    &lt;/informational&gt;
&lt;/extTableGenConfig&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration file shows the definition of the external table and its columns, including length and character set.
By default, an extra column, <code>LF</code>, is added with a linefeed to make the generated external table file somewhat human-readable.
This can be configured with <a href="#ref-cmd-end-column"><code>--end-column={LF|CRLF|NONE}</code></a>.</p>
</div>
<div class="paragraph">
<p>It also shows the DDL necessary to create the external table matching the definition.
Given we didn&#8217;t specify an explicit table name (<a href="#ref-cmd-table-name"><code>--table-name=NAME</code></a>), the name <code>DEFAULT_EXTERNAL_TABLE_NAME</code> is used.</p>
</div>
<div class="paragraph">
<p><em>ext-table-gen</em> also created the following <code>persons.dat</code></p>
</div>
<div id="usage-ex-persons-dat" class="listingblock">
<div class="title">persons.dat</div>
<div class="content">
<pre>1Doe John   john@example.org   
2Doe Jane   jane@example.org   
3DeerJason  jason@example.org  
4DeerJillianjillian@example.org</pre>
</div>
</div>
<div class="paragraph">
<p>By default, <em>ext-table-gen</em> will not overwrite existing external table files or configuration files.
This needs to be explicitly enabled with <a href="#ref-cmd-overwrite-table-file"><code>--overwrite-table-file</code></a> and/or <a href="#ref-cmd-overwrite-config"><code>--overwrite-config</code></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="usage-config"><a class="anchor" href="#usage-config"></a>3.3. Using configuration</h3>
<div class="paragraph">
<p>Generating an external table file using the instructions of the previous section, <a href="#usage-basic-csv">Generating an external table from CSV</a>, is simple and easy, but has some limitations and downsides:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The maximum lengths of columns is derived from the CSV data.
If you want to reuse the external table without dropping and recreating it, with data files derived from CSV files with the same layout, but columns have longer (or shorter!) maximum length, this will not work.</p>
<div class="paragraph">
<p>For example, we want to process a <code>persons.csv</code> file where the <code>ID</code> column has two or more digits, or someone has a lastname <code>Rotteveel</code>, or everyone has an email address shorter than 19 characters, then Firebird will read the file incorrectly using the previous definition.</p>
</div>
</li>
<li>
<p>All columns will use the same character set.
For Western Europe and North America, using <code>ISO8859_1</code> is generally sufficient, but if you have persons from&#8201;&#8212;&#8201;for example&#8201;&#8212;&#8201;Eastern Europe or China and their names use characters from their region, those characters will be replaced by a <code>?</code>.
Using <code>UTF8</code> would be a catch-all solution, but given its downsides (wider columns, especially if a lot of data is Latin-1 or even plain ASCII), we recommend to only use it if you really need it, and only for those columns that need it.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>These limitations can be addressed by modifying the configuration file and using it for subsequent calls to <em>ext-table-gen</em>.</p>
</div>
<div class="paragraph">
<p>We&#8217;ll demonstrate this for length, and separately for character set.</p>
</div>
<div class="sect3">
<h4 id="usage-config-length"><a class="anchor" href="#usage-config-length"></a>3.3.1. Changing column lengths</h4>
<div class="paragraph">
<p>The length of a column can be modified by editing the <code>length</code> attribute of the <a href="#ref-xml-char"><code>char</code></a> element of a column.</p>
</div>
<div class="paragraph">
<p>For example, from length 1</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;column name="ID"&gt;
    &lt;char length="1" encoding="ISO8859_1"/&gt;
&lt;/column&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>to length 3</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;column name="ID"&gt;
    &lt;char length="3" encoding="ISO8859_1"/&gt;
&lt;/column&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Below, we modified the XML generated in section <a href="#usage-basic-csv">Generating an external table from CSV</a>, slightly increasing the lengths of each column<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>.</p>
</div>
<div class="listingblock">
<div class="title">Modified persons.xml</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;extTableGenConfig xmlns="https://www.lawinegevaar.nl/xsd/ext-table-gen-1.0.xsd"&gt;
    &lt;externalTable name="DEFAULT_EXTERNAL_TABLE_NAME"&gt;
        &lt;columns&gt;
            &lt;column name="ID"&gt;
                &lt;char length="3" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;column name="Lastname"&gt;
                &lt;char length="10" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;column name="Firstname"&gt;
                &lt;char length="10" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;column name="Email"&gt;
                &lt;char length="25" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;endColumn type="LF"/&gt;
        &lt;/columns&gt;
        &lt;tableFile path="C:\FirebirdData\exttables\persons.dat" overwrite="true"/&gt;
    &lt;/externalTable&gt;
    &lt;tableDerivation columnEncoding="ISO8859_1" endColumnType="LF"/&gt;
    &lt;csvFile path="C:\FirebirdData\csv\persons.csv" charset="UTF-8" headerRow="true"/&gt;
    &lt;informational&gt;
        &lt;ddl&gt;create table "DEFAULT_EXTERNAL_TABLE_NAME" external file 'C:\FirebirdData\exttables\persons.dat' (
  "ID" char(1) character set ISO8859_1,
  "Lastname" char(4) character set ISO8859_1,
  "Firstname" char(7) character set ISO8859_1,
  "Email" char(19) character set ISO8859_1,
  "LF" char(1) character set ASCII default _ASCII x'0a'
);
&lt;/ddl&gt;
    &lt;/informational&gt;
&lt;/extTableGenConfig&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We also set the attribute <code>overwrite</code> to <code>true</code> of <a href="#ref-xml-tablefile"><code>tableFile</code></a> to simplify the next commandline.
The <a href="#ref-cmd-overwrite-table-file"><code>--overwrite-table-file</code></a> option only works if <a href="#ref-cmd-table-file"><code>--table-file</code></a> is also specified, it doesn&#8217;t override the overwrite config for the file specified in the XML.
We didn&#8217;t change the DDL, as we&#8217;ll demonstrate later how to regenerate it.</p>
</div>
<div class="paragraph">
<p>To use the configuration file, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ext-table-gen --config-in=C:\FirebirdData\csv\persons.xml</pre>
</div>
</div>
<div class="paragraph">
<p>With the same <code>persons.csv</code> as the original CSV file, the <code>persons.dat</code> is now:</p>
</div>
<div class="listingblock">
<div class="title">persons.dat with wider columns</div>
<div class="content">
<pre>1  Doe       John      john@example.org         
2  Doe       Jane      jane@example.org         
3  Deer      Jason     jason@example.org        
4  Deer      Jillian   jillian@example.org      </pre>
</div>
</div>
<div class="paragraph">
<p>Compared to the <a href="#usage-ex-persons-dat">original persons.dat</a>, you&#8217;ll notice that the columns are wider.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Keep in mind that external table files are a <em>binary</em> data format.
The examples up-to-now use only <code>CHAR</code> columns with the same character set, so these examples effectively behave as a fixed width text format.</p>
</div>
<div class="paragraph">
<p>This changes once we start using multiple character sets, and&#8201;&#8212;&#8201;hopefully&#8201;&#8212;&#8201;in the future support other data types.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="usage-config-regen"><a class="anchor" href="#usage-config-regen"></a>3.3.2. Regenerating the configuration file</h4>
<div class="paragraph">
<p>In the previous section, <a href="#usage-config-length">Changing column lengths</a>, we modified the configuration XML, but didn&#8217;t touch the DDL.
We can of course modify the DDL manually, but we can also regenerate the configuration XML using <a href="#ref-cmd-config-out"><code>--config-out</code></a>.
Be aware, the external table file specified in the configuration file will also be recreated as part of this command.</p>
</div>
<div class="paragraph">
<p>For example, building on the previous example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ext-table-gen --config-in=C:\FirebirdData\csv\persons.xml ^
  --config-out=C:\FirebirdData\csv\persons.xml --overwrite-config</pre>
</div>
</div>
<div class="paragraph">
<p>Here we specify the same file for <a href="#ref-cmd-config-in"><code>--config-in</code></a> and <a href="#ref-cmd-config-out"><code>--config-out</code></a>, so we need to specify <a href="#ref-cmd-overwrite-config"><code>--overwrite-config</code></a>, otherwise the file is not overwritten.</p>
</div>
<div class="paragraph">
<p>The updated <code>persons.xml</code> is now:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;extTableGenConfig xmlns="https://www.lawinegevaar.nl/xsd/ext-table-gen-1.0.xsd"&gt;
    &lt;externalTable name="DEFAULT_EXTERNAL_TABLE_NAME"&gt;
        &lt;columns&gt;
            &lt;column name="ID"&gt;
                &lt;char length="3" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;column name="Lastname"&gt;
                &lt;char length="10" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;column name="Firstname"&gt;
                &lt;char length="10" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;column name="Email"&gt;
                &lt;char length="25" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;endColumn type="LF"/&gt;
        &lt;/columns&gt;
        &lt;tableFile path="C:\FirebirdData\exttables\persons.dat" overwrite="true"/&gt;
    &lt;/externalTable&gt;
    &lt;tableDerivation columnEncoding="ISO8859_1" endColumnType="LF"/&gt;
    &lt;csvFile path="C:\FirebirdData\csv\persons.csv" charset="UTF-8" headerRow="true"/&gt;
    &lt;informational&gt;
        &lt;ddl&gt;create table "DEFAULT_EXTERNAL_TABLE_NAME" external file 'C:\FirebirdData\exttables\persons.dat' (
  "ID" char(3) character set ISO8859_1,
  "Lastname" char(10) character set ISO8859_1,
  "Firstname" char(10) character set ISO8859_1,
  "Email" char(25) character set ISO8859_1,
  "LF" char(1) character set ASCII default _ASCII x'0a'
);
&lt;/ddl&gt;
    &lt;/informational&gt;
&lt;/extTableGenConfig&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see the DDL is now updated to match the definition in <a href="#ref-xml-externaltable"><code>externalTable</code></a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="usage-config-charset"><a class="anchor" href="#usage-config-charset"></a>3.3.3. Changing column character set</h4>
<div class="paragraph">
<p>Taking the initial example of <a href="#usage-basic-csv">Generating an external table from CSV</a>, say we also need to import someone with the Czech name Elika<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>:</p>
</div>
<div class="listingblock">
<div class="title">persons.csv with Czech name</div>
<div class="content">
<pre>ID,Lastname,Firstname,Email
1,Doe,John,john@example.org
2,Doe,Jane,jane@example.org
3,Deer,Jason,jason@example.org
4,Deer,Jillian,jillian@example.org
5,Deer,Elika,eliska@example.org</pre>
</div>
</div>
<div class="paragraph">
<p>If we try to generate the external table file with the original configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ext-table-gen --config-in=C:\FirebirdData\csv\persons.xml</pre>
</div>
</div>
<div class="paragraph">
<p>We now get:</p>
</div>
<div class="listingblock">
<div class="title">persons.dat with replacement character</div>
<div class="content">
<pre>1Doe John   john@example.org   
2Doe Jane   jane@example.org   
3DeerJason  jason@example.org  
4DeerJillianjillian@example.org
5DeerEli?ka eliska@example.org </pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the <code></code> has been replaced by a <code>?</code><sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup>, because <code></code> cannot be encoded in ISO-8859-1.
To be able to import the right character, we need to use a different encoding.
In our simplified example, we could change the column to <code>ISO8859_2</code> or <code>WIN1250</code> (which supports Czech codepoints like <code></code>), but we&#8217;ll use <code>UTF8</code> to also demonstrate the effects of using a multibyte character set.</p>
</div>
<div class="paragraph">
<p>In our example, we&#8217;ll only modify <code>Firstname</code> to use <code>UTF8</code>:</p>
</div>
<div class="listingblock">
<div class="title">persons.xml modified for UTF8</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;extTableGenConfig xmlns="https://www.lawinegevaar.nl/xsd/ext-table-gen-1.0.xsd"&gt;
    &lt;externalTable name="DEFAULT_EXTERNAL_TABLE_NAME"&gt;
        &lt;columns&gt;
            &lt;column name="ID"&gt;
                &lt;char length="1" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;column name="Lastname"&gt;
                &lt;char length="4" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;column name="Firstname"&gt;
                &lt;char length="7" encoding="UTF8"/&gt;
            &lt;/column&gt;
            &lt;column name="Email"&gt;
                &lt;char length="19" encoding="ISO8859_1"/&gt;
            &lt;/column&gt;
            &lt;endColumn type="LF"/&gt;
        &lt;/columns&gt;
        &lt;tableFile path="C:\FirebirdData\exttables\persons.dat" overwrite="true"/&gt;
    &lt;/externalTable&gt;
    &lt;tableDerivation columnEncoding="ISO8859_1" endColumnType="LF"/&gt;
    &lt;csvFile path="C:\FirebirdData\csv\persons.csv" charset="UTF-8" headerRow="true"/&gt;
    &lt;informational&gt;
        &lt;ddl&gt;create table "DEFAULT_EXTERNAL_TABLE_NAME" external file 'C:\FirebirdData\exttables\persons.dat' (
  "ID" char(1) character set ISO8859_1,
  "Lastname" char(4) character set ISO8859_1,
  "Firstname" char(7) character set ISO8859_1,
  "Email" char(19) character set ISO8859_1,
  "LF" char(1) character set ASCII default _ASCII x'0a'
);
&lt;/ddl&gt;
    &lt;/informational&gt;
&lt;/extTableGenConfig&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ext-table-gen --config-in=C:\FirebirdData\csv\persons.xml</pre>
</div>
</div>
<div class="paragraph">
<p>We now get:</p>
</div>
<div class="listingblock">
<div class="title">persons.dat</div>
<div class="content">
<pre>1Doe John                        john@example.org   
2Doe Jane                        jane@example.org   
3DeerJason                       jason@example.org  
4DeerJillian                     jillian@example.org
5DeerElika                     eliska@example.org </pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, for the first four rows, the <code>Firstname</code> column now seems to occupy 28 characters, while in the fifth row it only seems to occupy 27 characters.
This is because the external table file is a fixed-width <em>binary</em> format, not a fixed-width <em>text</em> format.</p>
</div>
<div class="paragraph">
<p>The <code>Firstname</code> column is now defined as <code>&lt;char length="7" encoding="UTF8"/&gt;</code>, and in UTF-8, <code></code> is encoded in two bytes.
UTF-8 encodes characters in 1 to 4 bytes, and Firebird requires the column to be 4 * 7 = 28 bytes (that is, the maximum possible length), and superfluous bytes need to be populated with byte 0x20 (space character).</p>
</div>
<div class="paragraph">
<p>The effect is that <code>Jillian</code> (which is 7 characters and 7 bytes), is followed by 21 spaces (total: 28 bytes), while <code>Elika</code> (6 characters, but 7 bytes) is also followed by 21 spaces (total: 28 bytes).</p>
</div>
<div class="paragraph">
<p>If you try to trick the server, by manually editing the contents of such a column to have more than 7 characters (upto the length of 28 bytes), it will not work and Firebird will report a truncation error for values longer than 7 characters.</p>
</div>
<div class="paragraph">
<p>Again, it is important to keep in mind, that by using two different and incompatible character sets in the external table file, it is now truly a <em>binary</em> file.
In our example it just happens to work OK when shown as text, because all other characters are in ASCII, which is a subset of both ISO-8859-1 and UTF-8.
If some of the other columns had ISO-8859-1 characters beyond 0x7f, they would have been rendered as Unicode replacement characters (because the AsciiDoctor tool used to create this manual also reads our example data as UTF-8).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="usage-workflow"><a class="anchor" href="#usage-workflow"></a>3.4. Recommended workflow</h3>
<div class="paragraph">
<p>The previous examples are all that&#8201;&#8212;&#8201;we think&#8201;&#8212;&#8201;you&#8217;ll need to create usable external table files.</p>
</div>
<div class="paragraph">
<p>For one-shot imports, the second example from <a href="#usage-basic-csv">Generating an external table from CSV</a> can be sufficient.
You may need to use <a href="#ref-cmd-column-encoding"><code>--column-encoding</code></a> if you need something other than <code>ISO8859_1</code> for the external table columns, and <a href="#ref-cmd-csv-charset"><code>--csv-charset</code></a> if the CSV file is not encoded in ASCII or UTF-8.</p>
</div>
<div class="paragraph">
<p>For repeated imports, or where multiple character sets are needed, we recommend the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Generate a config file using <a href="#usage-basic-csv">Generating an external table from CSV</a>,</p>
</li>
<li>
<p>Tweak the configuration file to increase columns lengths to expected maximums (see <a href="#usage-config-length">Changing column lengths</a>),</p>
</li>
<li>
<p>If needed, change the encoding of columns (see <a href="#usage-config-charset">Changing column character set</a>),</p>
</li>
<li>
<p>Finally, regenerate the config file (see <a href="#usage-config-regen">Regenerating the configuration file</a>) for up-to-date DDL.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Use the DDL from the last step to create the external table, and use the external table file it generated to verify the definition by querying the external table from Firebird.</p>
</div>
<div class="paragraph">
<p>From that point on, the configuration file can be used to transform a CSV file to an external table file.</p>
</div>
<div class="paragraph">
<p>For example, assuming the <a href="#ref-xml-tablefile"><code>tableFile</code></a> in the configuration has attribute <code>overwrite</code> set to <code>true</code>, and you always want to read the configured file from <a href="#ref-xml-csvfile"><code>csvFile</code></a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ext-table-gen --config-in=C:\FirebirdData\csv\persons.xml</pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If a configuration contains relative paths, they are resolved against the current working directory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you need to import CSV files with a different name, you can use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ext-table-gen --config-in=C:\FirebirdData\csv\persons.xml ^
  --csv-file=C:\FirebirdData\csv\persons-20230622.csv</pre>
</div>
</div>
<div class="paragraph">
<p>If a CSV file changes incompatibly (e.g. too wide columns, or different number of columns) or has inconsistent column counts, the import will fail, but the external table file will have been overwritten with valid row data before the failing row.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ref"><a class="anchor" href="#ref"></a>4. Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes the various configuration options.
First it describes the commandline options, followed by the XML configuration file format.</p>
</div>
<div class="sect2">
<h3 id="ref-cmd"><a class="anchor" href="#ref-cmd"></a>4.1. Commandline options</h3>
<div class="paragraph">
<p><em>ext-table-gen</em> provides a number of commandline configuration options to configure its behaviour.
We discuss the options here grouped by functional area.</p>
</div>
<div class="sect3">
<h4 id="ref-cmd-general"><a class="anchor" href="#ref-cmd-general"></a>4.1.1. General options</h4>
<div class="sect4">
<h5 id="ref-cmd-help"><a class="anchor" href="#ref-cmd-help"></a>Help (<code>-h</code>, <code>--help</code>)</h5>
<div class="paragraph">
<p>The help option (<code>-h</code> or <code>--help</code>) displays the general usage summary of <em>ext-table-gen</em> and then exits.
The general usage summary is also printed for command-line errors.</p>
</div>
</div>
<div class="sect4">
<h5 id="ref-cmd-version"><a class="anchor" href="#ref-cmd-version"></a>Version (<code>-V</code>, <code>--version</code>)</h5>
<div class="paragraph">
<p>The version option (<code>-V</code> or <code>--version</code>) prints version information and then exits.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ref-cmd-csv"><a class="anchor" href="#ref-cmd-csv"></a>4.1.2. CSV file configuration</h4>
<div class="sect4">
<h5 id="ref-cmd-csv-file"><a class="anchor" href="#ref-cmd-csv-file"></a>CSV file (<code>--csv-file</code>)</h5>
<div class="paragraph">
<p>The CSV file option (<code>--csv-file=FILE</code>) specifies the path of the CSV file.
<code>FILE</code> is the absolute or relative path to the file.
Relative paths are resolved against the current working directory.
The file must be in <a href="https://www.rfc-editor.org/rfc/rfc4180" target="_blank" rel="noopener">RFC 4180</a> format.</p>
</div>
<div class="paragraph">
<p>We recommend specifying absolute paths, as the configuration file will store the path as specified, which means that if a relative path is used, and the configuration file is then used from a different location, it may attempt to read a non-existent or wrong file.</p>
</div>
<div class="paragraph">
<p>This option can override the XML config of <a href="#ref-xml-csvfile"><code>/extTableGenConfig/csvFile[@path]</code></a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="ref-cmd-csv-charset"><a class="anchor" href="#ref-cmd-csv-charset"></a>CSV character set (<code>--csv-charset</code>)</h5>
<div class="paragraph">
<p>The CSV character set option (<code>--csv-charset=CHARSET</code>) specifies the character set of the CSV file.
<code>CHARSET</code> is any valid Java character set name or alias.
The default is <code>UTF-8</code>.</p>
</div>
<div class="paragraph">
<p>This option can override the XML config of <a href="#ref-xml-csvfile"><code>/extTableGenConfig/csvFile[@charset]</code></a> if explicitly specified.</p>
</div>
</div>
<div class="sect4">
<h5 id="ref-cmd-csv-header"><a class="anchor" href="#ref-cmd-csv-header"></a>CSV header (<code>--[no-]csv-header</code>)</h5>
<div class="paragraph">
<p>The CSV header boolean option (<code>--[no-]csv-header</code>) specifies if the first row of the CSV file is a header (<code>--csv-header</code>, the default), or data (<code>--no-csv-header</code>).
The default is <code>--csv-header</code>.</p>
</div>
<div class="paragraph">
<p>If the first row is a header, and the external table is derived, the values in the first row are used as column names.
If an existing external table configuration is used, the header row is skipped.</p>
</div>
<div class="paragraph">
<p>If the first row is not a header, and the external table is derived, columns are assigned a name in the form of <code>COLUMN_<em>idx</em></code>, where <em>idx</em> is the 1-based index of the column (first is <code>COLUMN_1</code>, second is <code>COLUMN_2</code>, etc.).</p>
</div>
<div class="paragraph">
<p>This option can override the XML config of <a href="#ref-xml-csvfile"><code>/extTableGenConfig/csvFile[@headerRow]</code></a> if explicitly specified.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ref-cmd-output"><a class="anchor" href="#ref-cmd-output"></a>4.1.3. External table file configuration</h4>
<div class="sect4">
<h5 id="ref-cmd-table-file"><a class="anchor" href="#ref-cmd-table-file"></a>Table file path (<code>--table-file</code>)</h5>
<div class="paragraph">
<p>The table file path option (<code>--table-file=FILE</code>) specifies the path of the external table file.
<code>FILE</code> is the absolute or relative path to the file.
Relative paths are resolved against the current working directory.</p>
</div>
<div class="paragraph">
<p>We recommend specifying absolute paths, as the configuration file will store the path as specified, which means that if a relative path is used, and the configuration file is then used from a different location, it may attempt to write to the wrong location or file.</p>
</div>
<div class="paragraph">
<p>This option can override the XML config of <a href="#ref-xml-tablefile"><code>/extTableGenConfig/externalTable/tableFile[@path]</code></a>.
If specified, the XML config of <code>/extTableGenConfig/externalTable/tableFile[@overwrite]</code> is ignored, and defaults to <code>false</code> if <a href="#ref-cmd-overwrite-table-file"><code>--overwrite-table-file</code></a> is not specified.</p>
</div>
</div>
<div class="sect4">
<h5 id="ref-cmd-overwrite-table-file"><a class="anchor" href="#ref-cmd-overwrite-table-file"></a>Overwrite table file (<code>--[no-]overwrite-table-file</code>)</h5>
<div class="paragraph">
<p>The overwrite table file boolean option (<code>--[no-]overwrite-table-file</code>) specifies if an existing external table file can be overwritten (<code>--overwrite-table-file</code>) or not overwritten (<code>--no-overwrite-table-file</code>, the default).
The default is <code>--no-overwrite-table-file</code>.</p>
</div>
<div class="paragraph">
<p>This option can only be specified if <a href="#ref-cmd-table-file"><code>--table-file</code></a> is specified.
In other words, it does not override the XML config.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>We only allow this override if also specifying the external table file, so you&#8217;re aware what file you&#8217;re going to overwrite.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ref-cmd-tbl-derive"><a class="anchor" href="#ref-cmd-tbl-derive"></a>4.1.4. Table configuration and derivation</h4>
<div class="paragraph">
<p>Table derivation options configure how <em>ext-table-gen</em> derives the external table definition.</p>
</div>
<div class="paragraph">
<p>Apart from <a href="#ref-cmd-table-name"><code>--table-name</code></a>, these options only have effect when a new external table definitions is generated (see also <a href="#ref-cmd-table-derivation-mode">Table derivation mode (<code>--table-derivation-mode</code>)</a>).</p>
</div>
<div class="sect4">
<h5 id="ref-cmd-table-name"><a class="anchor" href="#ref-cmd-table-name"></a>Table name (<code>--table-name</code>)</h5>
<div class="paragraph">
<p>The table name option (<code>--table-name=NAME</code>) specifies the name of the external table.
<code>NAME</code> is the table name.
The value will be converted to a quoted identifier.
When no name is specified through <code>--table-name</code> or the XML file, the table name <code>DEFAULT_EXTERNAL_TABLE_NAME</code> is used.</p>
</div>
<div class="paragraph">
<p>This option can override the XML config of <a href="#ref-xml-externaltable"><code>/extTableGenConfig/externalTable[@name]</code></a> if explicitly specified.</p>
</div>
</div>
<div class="sect4">
<h5 id="ref-cmd-column-encoding"><a class="anchor" href="#ref-cmd-column-encoding"></a>Column encoding (<code>--column-encoding</code>)</h5>
<div class="paragraph">
<p>The column encoding option (<code>--column-encoding=ENCODING</code>) specifies the column encoding to use for all columns when deriving a table.
<code>ENCODING</code> is the Firebird name of a supported Firebird character set.
Default value is <code>ISO8859_1</code>.</p>
</div>
<div class="paragraph">
<p>This option can override the XML config of <a href="#ref-xml-tablederivation"><code>/extTableGenConfig/tableDerivation[@columnEncoding]</code></a> if explicitly specified.
It does not override the column encoding of existing columns (unless you use an explicit <a href="#ref-cmd-table-derivation-mode">Table derivation mode (<code>--table-derivation-mode</code>)</a>).</p>
</div>
<div class="sect5">
<h6 id="ref-unsupported-encoding"><a class="anchor" href="#ref-unsupported-encoding"></a>Unsupported character sets</h6>
<div class="paragraph">
<p>Not all Firebird character sets are supported.
<code>OCTETS</code> and <code>NONE</code> are not supported, as we need to know which character set to use to encode string data when writing the external table file, so we require that a &#8220;real&#8221; character set is specified as the column encoding.
The character set <code>UNICODE_FSS</code> is not supported, as we can&#8217;t support this variant of UTF-8 with the standard Java character sets.
Other multibyte character sets (<code>SJIS_0208</code>, <code>EUCJ_0208</code>, <code>KSC_5601</code>, <code>BIG_5</code>, <code>GB_2312</code>, <code>GBK</code>, <code>CP943C</code>, <code>GB18030</code>) are not supported as we&#8217;re not sure how to handle padding for these character sets (support may be added in the future after we&#8217;ve experimented with this).
Character sets which have no equivalent Java character set are also not supported (e.g. <code>NEXT</code>, <code>CYRL</code>).</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="ref-cmd-end-column"><a class="anchor" href="#ref-cmd-end-column"></a>End column type (<code>--end-column</code>)</h5>
<div class="paragraph">
<p>The end column type option (<code>--end-column=TYPE</code>) specifies if an extra column is added with a linebreak, and if so, what linebreak.
<code>TYPE</code> can have value:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>LF</code>
</td>
<td class="hdlist2">
<p>linefeed, a.k.a. LF, \n, or 0x0a</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>CRLF</code>
</td>
<td class="hdlist2">
<p>carriage return + linefeed, a.k.a CR/LF, \r\n, or 0x0d0a</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NONE</code>
</td>
<td class="hdlist2">
<p>no end column</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The default is <code>LF</code>.</p>
</div>
<div class="paragraph">
<p>An end column is not necessary, but can improve the &#8220;human readability&#8221; of the external table file by starting each row on a new line.
If this is no concern for you, use <code>--end-column=NONE</code> to reduce file size and overhead of writing and reading this column.</p>
</div>
<div class="paragraph">
<p>This option can override the XML config of <a href="#ref-xml-tablederivation"><code>/extTableGenConfig/tableDerivation[@endColumnType]</code></a> if explicitly specified.
It does not override the current end-column of <code>/extTableGenConfig/extTable/columns/endColumn</code> (unless you use an explicit <a href="#ref-cmd-table-derivation-mode">Table derivation mode (<code>--table-derivation-mode</code>)</a>).</p>
</div>
</div>
<div class="sect4">
<h5 id="ref-cmd-table-derivation-mode"><a class="anchor" href="#ref-cmd-table-derivation-mode"></a>Table derivation mode (<code>--table-derivation-mode</code>)</h5>
<div class="paragraph">
<p>The table derivation mode option (<code>--table-derivation-mode=MODE</code>) specifies when an external table definition should be derived from a CSV file.
<code>MODE</code> can have value:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>INCOMPLETE</code>
</td>
<td class="hdlist2">
<p>Only derive the external table when the current configuration is incomplete.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>ALWAYS</code>
</td>
<td class="hdlist2">
<p>Always derive the external table, even if the current configuration defines a valid external table.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NEVER</code>
</td>
<td class="hdlist2">
<p>Never derive the external table, always use the current configuration.
Fails if the current configuration is incomplete or invalid.</p>
<div class="paragraph">
<p>Specifying <code>NEVER</code> on the commandline is technically possible, but rarely makes sense, except maybe to make the behaviour explicit.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The formal default is <code>INCOMPLETE</code>, but this is only applied when <a href="#ref-cmd-config-in"><code>--config-in</code></a> is not specified, and without an existing configuration, <code>INCOMPLETE</code> and <code>ALWAYS</code> behave the same.</p>
</div>
<div class="paragraph">
<p>When <a href="#ref-cmd-config-in"><code>--config-in</code></a> is specified, the default is <code>NEVER</code>.
This default was chosen to avoid accidentally deriving a new table configuration and creating an external table file which does not match the existing external table used by Firebird server (e.g. because the config file was modified incorrectly, or because <em>ext-table-gen</em> incorrectly or due to implementation changes suddenly considers the configuration as incomplete or invalid).
The assumption is that if you have an existing configuration file, it is complete and correct.
If that is not the case, or if you want to derive the external table definition anew, you must explicitly declare this with <code>--table-derivation-mode</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ref-cmd-config"><a class="anchor" href="#ref-cmd-config"></a>4.1.5. Configuration file management</h4>
<div class="sect4">
<h5 id="ref-cmd-config-in"><a class="anchor" href="#ref-cmd-config-in"></a>Configuration input (<code>--config-in</code>)</h5>
<div class="paragraph">
<p>The configuration input (<code>--config-in=FILE</code>) specifies the path of the configuration file to read.
<code>FILE</code> is the absolute or relative path to the file to read.</p>
</div>
<div class="paragraph">
<p>The configuration input is used as the initial configuration, and can be modified by the other commandline options.
If <code>--config-in</code> is not specified, the default values are applied in the absence of a commandline option.</p>
</div>
</div>
<div class="sect4">
<h5 id="ref-cmd-config-out"><a class="anchor" href="#ref-cmd-config-out"></a>Configuration output (<code>--config-out</code>)</h5>
<div class="paragraph">
<p>The configuration output (<code>--config-out=FILE</code>) specifies the path of the configuration XML file to write.
<code>FILE</code> is the absolute or relative path to the file to read.</p>
</div>
<div class="paragraph">
<p>If <code>--config-out</code> is not specified, no configuration file is written.
By default, an existing configuration file is not overwritten.
Specify <a href="#ref-cmd-overwrite-config"><code>--overwrite-config</code></a> to overwrite an existing configuration file.</p>
</div>
<div class="paragraph">
<p>If the configuration file exists and <a href="#ref-cmd-overwrite-config"><code>--overwrite-config</code></a> is not specified, this is reported on the standard error output.
The export of the CSV to an external table will proceed as normal.</p>
</div>
<div class="paragraph">
<p>When both <a href="#ref-cmd-config-in"><code>--config-in</code></a> and <code>--config-out</code> are specified without other options (except <a href="#ref-cmd-overwrite-config"><code>--overwrite-config</code></a>), generally a file with the same configuration will be written, except for:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>New configuration options introduced in <em>ext-table-gen</em> after the configuration input was created</p>
</li>
<li>
<p>The content of the informational element is always regenerated, so if it was outdated (e.g. see <a href="#usage-config-regen">Regenerating the configuration file</a>), or <em>ext-table-gen</em> changed how the DDL or other information is generated, it may change.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When both <a href="#ref-cmd-config-in"><code>--config-in</code></a> and <code>--config-out</code> are specified with other options, the values of those options are reflected in the new configuration file.</p>
</div>
<div class="paragraph">
<p>Except for the table name (<code>/extTableGenConfig/externalTable[@name]</code>) and table file (<code>/extTableGenConfig/externalTable/tableFile</code>), the <a href="#ref-xml-externaltable"><code>externalTable</code></a> element will not change unless <a href="#ref-cmd-table-derivation-mode"><code>--table-derivation-mode=ALWAYS</code></a> is specified, or the existing configuration is considered invalid or incomplete and <code>--table-derivation-mode=INCOMPLETE</code> is specified.</p>
</div>
</div>
<div class="sect4">
<h5 id="ref-cmd-overwrite-config"><a class="anchor" href="#ref-cmd-overwrite-config"></a>Overwrite configuration (<code>--[no-]overwrite-config</code>)</h5>
<div class="paragraph">
<p>The overwrite configuration boolean option (<code>--[no-]overwrite-config</code>) specifies whether the configuration output (<a href="#ref-cmd-config-out"><code>--config-out</code></a>) can be overwritten if it exists (<code>--overwrite-config</code>) or not overwritten (<code>--no-overwrite-config</code>, the default).
The default is <code>--no-overwrite-config</code>.</p>
</div>
<div class="paragraph">
<p>This option can only be specified if <a href="#ref-cmd-config-out"><code>--config-out</code></a> is specified.</p>
</div>
<div class="paragraph">
<p>The option <code>--no-overwrite-config</code> is technically unnecessary, but can be specified for explicitness (and exists for consistency with other boolean options).</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ref-xml"><a class="anchor" href="#ref-xml"></a>4.2. XML configuration</h3>
<div class="paragraph">
<p>The XML configuration file format uses an XSD to define its structure.
This XSD can be found in <a href="#xsd">XML schemas</a>.
This section follows the structure of the XSD.</p>
</div>
<div class="paragraph">
<p>The root of the XML is <code>extTableGenConfig</code>.</p>
</div>
<div class="paragraph">
<div class="title">Attributes</div>
<p>None</p>
</div>
<div class="ulist">
<div class="title">Elements</div>
<ul>
<li>
<p><a href="#ref-xml-externaltable"><code>externalTable</code></a>&#8201;&#8212;&#8201;required</p>
</li>
<li>
<p><a href="#ref-xml-tablederivation"><code>tableDerivation</code></a>&#8201;&#8212;&#8201;optional</p>
</li>
<li>
<p><a href="#ref-xml-csvfile"><code>csvFile</code></a>&#8201;&#8212;&#8201;optional</p>
</li>
<li>
<p><a href="#ref-xml-informational"><code>informational</code></a>&#8201;&#8212;&#8201;optional</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="ref-xml-externaltable"><a class="anchor" href="#ref-xml-externaltable"></a>4.2.1. <code>externalTable</code></h4>
<div class="paragraph">
<p>The <code>externalTable</code> element defines the name, columns and table file of the external table.
The columns it contains are used by <em>ext-table-gen</em> to validate the columns in the input CSV file (e.g. number of columns, length of column values), and format the output of the external table file, and generate the DDL of the table.</p>
</div>
<div class="hdlist">
<div class="title">Attributes</div>
<table>
<tr>
<td class="hdlist1">
<code>name</code>
</td>
<td class="hdlist2">
<p>Name of the table (used for the DDL; required)</p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Elements</div>
<ul>
<li>
<p><a href="#ref-xml-columns"><code>columns</code></a>&#8201;&#8212;&#8201;required</p>
</li>
<li>
<p><a href="#ref-xml-tablefile"><code>tableFile</code></a>&#8201;&#8212;&#8201;optional</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="ref-xml-columns"><a class="anchor" href="#ref-xml-columns"></a><code>columns</code></h5>
<div class="paragraph">
<p>The element <code>columns</code> is a sequence of one or more <a href="#ref-xml-column"><code>column</code></a> elements, defining the columns of the external table.</p>
</div>
<div class="paragraph">
<div class="title">Attributes</div>
<p>None</p>
</div>
<div class="ulist">
<div class="title">Elements, in order</div>
<ul>
<li>
<p><a href="#ref-xml-column"><code>column</code></a>&#8201;&#8212;&#8201;one or more</p>
</li>
<li>
<p><a href="#ref-xml-endcolumn"><code>endColumn</code></a>&#8201;&#8212;&#8201;optional</p>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="ref-xml-column"><a class="anchor" href="#ref-xml-column"></a><code>column</code></h6>
<div class="paragraph">
<p>The <code>column</code> element defines a normal data column.</p>
</div>
<div class="hdlist">
<div class="title">Attributes</div>
<table>
<tr>
<td class="hdlist1">
<code>name</code>
</td>
<td class="hdlist2">
<p>Name of the column (used for the DDL; required)</p>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Elements</div>
<ul>
<li>
<p>Element of type <a href="#ref-xml-datatype">datatype</a>&#8201;&#8212;&#8201;required</p>
</li>
</ul>
</div>
<div class="sect6">
<h7 id="ref-xml-datatype"><a class="anchor" href="#ref-xml-datatype"></a>datatype</h7>
<div class="paragraph">
<p>At this time, <em>ext-table-gen</em> supports only one column datatype: <a href="#ref-xml-char"><code>char</code></a>.</p>
</div>
<h7 id="ref-xml-char" class="float"><code>char</code></h7>
<div class="paragraph">
<p>The <code>char</code> element represents the Firebird datatype <code>CHAR</code>.</p>
</div>
<div class="hdlist">
<div class="title">Attributes</div>
<table>
<tr>
<td class="hdlist1">
<code>length</code>
</td>
<td class="hdlist2">
<p>Integer in the range [1, 32767] with length in Unicode codepoints (required).<br>
The XSD does not validate maximum length for multibyte character sets (e.g. for <code>encoding="UTF8"</code> the actual maximum length would be 8191, but this is not enforced).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>encoding</code>
</td>
<td class="hdlist2">
<p>Encoding (character set) of the column, using Firebird character set names (required).<br>
The XSD uses an enum-type, <code>encoding</code>, with supported names.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Elements</div>
<p>None</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="ref-xml-endcolumn"><a class="anchor" href="#ref-xml-endcolumn"></a><code>endColumn</code></h5>
<div class="paragraph">
<p>The <code>endColumn</code> elements represents an extra column which is added to the external table to introduce a linebreak after each row in the external table file.
This linebreak is primarily intended to make the file more &#8220;human-readable&#8221;, and is not needed for Firebird itself.</p>
</div>
<div class="hdlist">
<div class="title">Attributes</div>
<table>
<tr>
<td class="hdlist1">
<code>type</code>
</td>
<td class="hdlist2">
<p>Type of linebreak (required)<br>
Possible values:</p>
<div class="openblock">
<div class="content">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>LF</code>
</td>
<td class="hdlist2">
<p>Linefeed (\n or 0x0a)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>CRLF</code>
</td>
<td class="hdlist2">
<p>Carriage return and linefeed (\r\n or 0x0d0a)</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>There is no value equivalent to <a href="#ref-cmd-end-column"><code>--end-column=NONE</code></a>.
Instead, that is represented by absence of the <code>endColumn</code> element.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Elements</div>
<p>None</p>
</div>
</div>
<div class="sect4">
<h5 id="ref-xml-tablefile"><a class="anchor" href="#ref-xml-tablefile"></a><code>tableFile</code></h5>
<div class="paragraph">
<p>The element <code>tableFile</code> specifies the external table file.</p>
</div>
<div class="hdlist">
<div class="title">Attributes</div>
<table>
<tr>
<td class="hdlist1">
<code>path</code>
</td>
<td class="hdlist2">
<p>Path of the external table file (required).<br>
If a relative path, it is resolved against the current working directory of <em>ext-table-gen</em>.
It is recommended to use absolute paths.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>overwrite</code>
</td>
<td class="hdlist2">
<p>Boolean specifying if <em>ext-table-gen</em> is allowed to overwrite an existing file (optional; defaults to <code>false</code>)</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Elements</div>
<p>None</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ref-xml-tablederivation"><a class="anchor" href="#ref-xml-tablederivation"></a>4.2.2. <code>tableDerivation</code></h4>
<div class="paragraph">
<p>The element <code>tableDerivation</code> stores the configuration used to derive an external table.
This is only used when <em>ext-table-gen</em> is used with <a href="#ref-cmd-table-derivation-mode"><code>--table-derivation-mode=ALWAYS</code></a>, or <code>--table-derivation-mode=INCOMPLETE</code> and the current configuration is considered incomplete or invalid.</p>
</div>
<div class="paragraph">
<p>Be aware, it does not necessarily represent the configuration used to derive the current table described by <a href="#ref-xml-externaltable"><code>externalTable</code></a>, but instead the last configuration stored using <a href="#ref-cmd-config-out"><code>--config-out</code></a>.</p>
</div>
<div class="hdlist">
<div class="title">Attributes</div>
<table>
<tr>
<td class="hdlist1">
<code>columnEncoding</code>
</td>
<td class="hdlist2">
<p>Encoding (character set) to apply to columns when deriving an external table (optional).<br>
The XSD uses an enum-type, <code>encoding</code>, with supported names.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>endColumnType</code>
</td>
<td class="hdlist2">
<p>Type of linebreak (optional)<br>
Possible values:</p>
<div class="openblock">
<div class="content">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>LF</code>
</td>
<td class="hdlist2">
<p>Linefeed (\n or 0x0a)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>CRLF</code>
</td>
<td class="hdlist2">
<p>Carriage return and linefeed (\r\n or 0x0d0a)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NONE</code>
</td>
<td class="hdlist2">
<p>No end column</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Absence of the attribute implies <code>LF</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Elements</div>
<p>None</p>
</div>
<div class="paragraph">
<p>The commandline option <a href="#ref-cmd-table-derivation-mode">Table derivation mode (<code>--table-derivation-mode</code>)</a> is intentionally not represented in the configuration file.
If a configuration file is specified (using <a href="#ref-cmd-config-in"><code>--config-in</code></a>), <em>ext-table-gen</em> defaults to <code>NEVER</code>, and needs to be explicitly overridden by the commandline to derive the external table.</p>
</div>
</div>
<div class="sect3">
<h4 id="ref-xml-csvfile"><a class="anchor" href="#ref-xml-csvfile"></a>4.2.3. <code>csvFile</code></h4>
<div class="paragraph">
<p>The element <code>csvFile</code> specifies the CSV file to use, and how to read it.</p>
</div>
<div class="hdlist">
<div class="title">Attributes</div>
<table>
<tr>
<td class="hdlist1">
<code>path</code>
</td>
<td class="hdlist2">
<p>Path of the CSV file (required).<br>
If a relative path, it is resolved against the current working directory of <em>ext-table-gen</em>.
It is recommended to use absolute paths.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>charset</code>
</td>
<td class="hdlist2">
<p>Character set of the CSV file (required).<br>
Expects a Java character set name or alias.
As available character sets depend on the JVM and its classpath, this is not restricted by the XSD.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>headerRow</code>
</td>
<td class="hdlist2">
<p>Boolean specifying if the first row of the CSV file is a header row or a data row (optional; defaults to <code>true</code>)</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Elements</div>
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="ref-xml-informational"><a class="anchor" href="#ref-xml-informational"></a>4.2.4. <code>informational</code></h4>
<div class="paragraph">
<p>The element <code>informational</code> contains data which is informational only, and does not represent configuration used by <em>ext-table-gen</em>.
Be aware that if the configuration file was changed outside <em>ext-table-gen</em>, the contents of <code>informational</code> may be out-of-sync.
See <a href="#usage-config-regen">Regenerating the configuration file</a> on how to regenerate the config file.</p>
</div>
<div class="paragraph">
<div class="title">Attributes</div>
<p>None</p>
</div>
<div class="ulist">
<div class="title">Elements</div>
<ul>
<li>
<p><a href="#ref-xml-ddl"><code>ddl</code></a>&#8201;&#8212;&#8201;required</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="ref-xml-ddl"><a class="anchor" href="#ref-xml-ddl"></a><code>ddl</code></h5>
<div class="paragraph">
<p>The <code>ddl</code> element contains the Firebird <a href="https://www.firebirdsql.org/file/documentation/chunk/en/refdocs/fblangref40/fblangref40-ddl-table.html#fblangref40-ddl-tbl-create" target="_blank" rel="noopener"><code>CREATE TABLE</code></a> statement derived from <a href="#ref-xml-externaltable"><code>externalTable</code></a>.</p>
</div>
<div class="paragraph">
<div class="title">Attributes</div>
<p>None</p>
</div>
<div class="paragraph">
<div class="title">Elements</div>
<p>None</p>
</div>
</div>
</div>
</div>
</div>
</div>
<h1 id="_appendices" class="sect0"><a class="anchor" href="#_appendices"></a>Appendices</h1>
<div class="sect1">
<h2 id="xsd"><a class="anchor" href="#xsd"></a>Appendix A: XML schemas</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the XML schema used by <em>ext-table-gen</em> for its configuration files.</p>
</div>
<div class="sect2">
<h3 id="ext-table-gen-1-0-xsd"><a class="anchor" href="#ext-table-gen-1-0-xsd"></a>A.1. <code>ext-table-gen-1.0.xsd</code></h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;!-- SPDX-FileCopyrightText: 2023 Mark Rotteveel --&gt;
&lt;!-- SPDX-License-Identifier: Apache-2.0 --&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           targetNamespace="https://www.lawinegevaar.nl/xsd/ext-table-gen-1.0.xsd"
           xmlns="https://www.lawinegevaar.nl/xsd/ext-table-gen-1.0.xsd"
           elementFormDefault="qualified"
           xmlns:jaxb="https://jakarta.ee/xml/ns/jaxb"
           jaxb:version="3.0"&gt;

    &lt;xs:element name="extTableGenConfig"&gt;
        &lt;xs:complexType&gt;
            &lt;xs:sequence&gt;
                &lt;xs:element name="externalTable" type="ExternalTableType"/&gt;
                &lt;xs:element name="tableDerivation" type="TableDerivationType" minOccurs="0"/&gt;
                &lt;xs:element name="csvFile" type="CsvFileType" minOccurs="0"/&gt;
                &lt;xs:element name="informational" type="InformationalType" minOccurs="0"/&gt;
            &lt;/xs:sequence&gt;
        &lt;/xs:complexType&gt;
    &lt;/xs:element&gt;

    &lt;xs:complexType name="ExternalTableType"&gt;
        &lt;xs:sequence&gt;
            &lt;xs:element name="columns" type="ColumnListType"/&gt;
            &lt;xs:element name="tableFile" type="TableFileType" minOccurs="0"/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name="name" type="xs:string" use="required"/&gt;
    &lt;/xs:complexType&gt;

    &lt;xs:complexType name="TableDerivationType"&gt;
        &lt;xs:attribute name="columnEncoding" type="encoding"/&gt;
        &lt;xs:attribute name="endColumnType" type="EndColumnEnum"/&gt;
        &lt;!--
        NOTE: The tableDerivationMode is intentionally not part of this configuration, and will default to NEVER
        --&gt;
    &lt;/xs:complexType&gt;

    &lt;xs:complexType name="ColumnListType"&gt;
        &lt;xs:sequence&gt;
            &lt;xs:element name="column" type="ColumnType" maxOccurs="unbounded"&gt;
                &lt;xs:annotation&gt;
                    &lt;xs:appinfo&gt;
                        &lt;jaxb:property name="columns"/&gt;
                    &lt;/xs:appinfo&gt;
                &lt;/xs:annotation&gt;
            &lt;/xs:element&gt;
            &lt;xs:element name="endColumn" type="EndColumnType" minOccurs="0"/&gt;
        &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;

    &lt;xs:complexType name="ColumnType"&gt;
        &lt;xs:sequence&gt;
            &lt;xs:element ref="datatype"/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name="name" type="xs:string"/&gt;
    &lt;/xs:complexType&gt;

    &lt;xs:element name="datatype" type="DatatypeType" abstract="true"/&gt;
    &lt;xs:element name="char" type="CharType" substitutionGroup="datatype"/&gt;

    &lt;xs:complexType name="DatatypeType" abstract="true"/&gt;

    &lt;xs:complexType name="CharType"&gt;
        &lt;xs:complexContent&gt;
            &lt;xs:extension base="DatatypeType"&gt;
                &lt;xs:attribute name="length" use="required"&gt;
                    &lt;xs:simpleType&gt;
                        &lt;xs:restriction base="xs:int"&gt;
                            &lt;xs:minInclusive value="1"/&gt;
                            &lt;xs:maxInclusive value="32767"/&gt;
                        &lt;/xs:restriction&gt;
                    &lt;/xs:simpleType&gt;
                &lt;/xs:attribute&gt;
                &lt;xs:attribute name="encoding" type="encoding" use="required"/&gt;
            &lt;/xs:extension&gt;
        &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;

    &lt;xs:simpleType name="encoding"&gt;
        &lt;xs:annotation&gt;
            &lt;xs:appinfo&gt;
                &lt;jaxb:typesafeEnumClass map="false"/&gt;
            &lt;/xs:appinfo&gt;
        &lt;/xs:annotation&gt;
        &lt;xs:restriction base="xs:string"&gt;
            &lt;!--Not supported--&gt;
            &lt;!--&lt;xs:enumeration value="NONE"/&gt;--&gt;
            &lt;!--&lt;xs:enumeration value="OCTETS"/&gt;--&gt;
            &lt;xs:enumeration value="ASCII"/&gt;
            &lt;!--We don't want to implement writing only max 3 bytes and correct UNICODE_FSS--&gt;
            &lt;!--&lt;xs:enumeration value="UNICODE_FSS"/&gt;--&gt;
            &lt;xs:enumeration value="UTF8"/&gt;
            &lt;!--TODO Need to know how to handle spaces--&gt;
            &lt;!--&lt;xs:enumeration value="SJIS_0208"/&gt;--&gt;
            &lt;!--&lt;xs:enumeration value="EUCJ_0208"/&gt;--&gt;
            &lt;xs:enumeration value="DOS737"/&gt;
            &lt;xs:enumeration value="DOS437"/&gt;
            &lt;xs:enumeration value="DOS850"/&gt;
            &lt;xs:enumeration value="DOS865"/&gt;
            &lt;xs:enumeration value="DOS860"/&gt;
            &lt;xs:enumeration value="DOS863"/&gt;
            &lt;xs:enumeration value="DOS775"/&gt;
            &lt;xs:enumeration value="DOS858"/&gt;
            &lt;xs:enumeration value="DOS862"/&gt;
            &lt;xs:enumeration value="DOS864"/&gt;
            &lt;xs:enumeration value="ISO8859_1"/&gt;
            &lt;xs:enumeration value="ISO8859_2"/&gt;
            &lt;xs:enumeration value="ISO8859_3"/&gt;
            &lt;xs:enumeration value="ISO8859_4"/&gt;
            &lt;xs:enumeration value="ISO8859_5"/&gt;
            &lt;xs:enumeration value="ISO8859_6"/&gt;
            &lt;xs:enumeration value="ISO8859_7"/&gt;
            &lt;xs:enumeration value="ISO8859_8"/&gt;
            &lt;xs:enumeration value="ISO8859_9"/&gt;
            &lt;xs:enumeration value="ISO8859_13"/&gt;
            &lt;!--TODO Need to know how to handle spaces--&gt;
            &lt;!--&lt;xs:enumeration value="KSC_5601"/&gt;--&gt;
            &lt;xs:enumeration value="DOS852"/&gt;
            &lt;xs:enumeration value="DOS857"/&gt;
            &lt;xs:enumeration value="DOS861"/&gt;
            &lt;xs:enumeration value="DOS866"/&gt;
            &lt;xs:enumeration value="DOS869"/&gt;
            &lt;xs:enumeration value="WIN1250"/&gt;
            &lt;xs:enumeration value="WIN1251"/&gt;
            &lt;xs:enumeration value="WIN1252"/&gt;
            &lt;xs:enumeration value="WIN1253"/&gt;
            &lt;xs:enumeration value="WIN1254"/&gt;
            &lt;!--TODO Need to know how to handle spaces--&gt;
            &lt;!--&lt;xs:enumeration value="BIG_5"/&gt;--&gt;
            &lt;!--&lt;xs:enumeration value="GB_2312"/&gt;--&gt;
            &lt;xs:enumeration value="WIN1255"/&gt;
            &lt;xs:enumeration value="WIN1256"/&gt;
            &lt;xs:enumeration value="WIN1257"/&gt;
            &lt;xs:enumeration value="KOI8R"/&gt;
            &lt;xs:enumeration value="KOI8U"/&gt;
            &lt;xs:enumeration value="WIN1258"/&gt;
            &lt;xs:enumeration value="TIS620"/&gt;
        &lt;/xs:restriction&gt;
    &lt;/xs:simpleType&gt;

    &lt;xs:complexType name="EndColumnType"&gt;
        &lt;xs:attribute name="type" use="required"&gt;
            &lt;xs:simpleType&gt;
                &lt;xs:restriction base="EndColumnEnum"&gt;
                    &lt;xs:enumeration value="LF"/&gt;
                    &lt;xs:enumeration value="CRLF"/&gt;
                &lt;/xs:restriction&gt;
            &lt;/xs:simpleType&gt;
        &lt;/xs:attribute&gt;
    &lt;/xs:complexType&gt;

    &lt;xs:simpleType name="EndColumnEnum"&gt;
        &lt;xs:annotation&gt;
            &lt;xs:appinfo&gt;
                &lt;jaxb:typesafeEnumClass map="false"/&gt;
            &lt;/xs:appinfo&gt;
        &lt;/xs:annotation&gt;
        &lt;xs:restriction base="xs:string"&gt;
            &lt;xs:enumeration value="LF"/&gt;
            &lt;xs:enumeration value="CRLF"/&gt;
            &lt;xs:enumeration value="NONE"/&gt;
        &lt;/xs:restriction&gt;
    &lt;/xs:simpleType&gt;

    &lt;xs:complexType name="TableFileType"&gt;
        &lt;xs:attribute name="path" type="xs:string" use="required"/&gt;
        &lt;xs:attribute name="overwrite" type="xs:boolean" default="false"/&gt;
    &lt;/xs:complexType&gt;

    &lt;xs:complexType name="CsvFileType"&gt;
        &lt;xs:attribute name="path" type="xs:string" use="required"/&gt;
        &lt;xs:attribute name="charset" type="xs:string" use="required"/&gt;
        &lt;xs:attribute name="headerRow" type="xs:boolean" default="true"/&gt;
    &lt;/xs:complexType&gt;

    &lt;xs:complexType name="InformationalType"&gt;
        &lt;xs:sequence&gt;
            &lt;xs:element name="ddl" type="xs:string"/&gt;
        &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;

&lt;/xs:schema&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. The format is essentially the in-memory layout of rows which Firebird also uses internally
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. At this time, <code>CHAR</code> is the only supported datatype
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. So the external table file will not be too wide for display purposes
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. I semi-randomly picked this name from <a href="https://en.wikipedia.org/wiki/Czech_name" target="_blank" rel="noopener">&#8220;Czech name&#8221; on Wikipedia</a>
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. This is default behaviour of Java when encoding characters which don&#8217;t exist in an encoding
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-06-28 13:18:29 UTC
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js"></script>
</body>
</html>